<div ng-cloak>
    <md-content>
        <md-tabs md-dynamic-height md-border-bottom>

            <md-tab label="Home">
                <md-content class="md-padding">
                    <h1 class="md-display-2">Welcome to challenge workspace</h1>
                    <md-list>
                        <md-list-item class="md-3-line" ng-repeat="news in vm.news">
                            <div class="md-list-item-text">
                                <h3>{{news.title}}</h3>
                                <p>{{news.content}}</p>
                            </div>
                            <md-button class="md-secondary" ng-click="vm.updateNews(news)">Edit</md-button>
                            <md-divider ng-if="!$last"></md-divider>
                        </md-list-item>
                    </md-list>
                    <div class="news-form">
                        <div layout-gt-sm="row">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Title</label>
                                <input ng-model="vm.newsEntity.title" />
                            </md-input-container>
                        </div>
                        <div layout-gt-sm="row">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Content</label>
                                <textarea name="timelineText" ng-model="vm.newsEntity.content" md-maxlength="1000" rows="5" md-select-on-focus></textarea>
                            </md-input-container>
                        </div>
                        <md-button class="md-primary md-raised" ng-click="vm.postNews()">Post</md-button>
                    </div>

                </md-content>

            </md-tab>

            <md-tab label="Question">
                <md-content class="md-padding">
                    <div class="panel-group" ng-repeat="q in vm.questions">
                        <div class="row panel-heading">
                            <div class="col-md-10">
                                <h4 ng-if="!q.reply" class="panel-title w3-text-black">
                                    {{q.subject}}
                                </h4>
                                <h4 ng-if="q.reply" class="panel-title w3-text-grey">
                                    {{q.subject}}
                                </h4>
                                <p>{{q.content}}</p>
                            </div>
                            <div class="col-md-2">
                                <md-checkbox ng-model="q.click">Show Answers</md-checkbox>
                            </div>


                        </div>
                        <div ng-show="q.click" style="margin-left:10%">
                            <div ng-repeat="ans in q.answers">
                                <span ng-if="ans.answerByType == 'BY_HOST'" class="label label-primary">Host</span>
                                <span ng-if="ans.answerByType == 'BY_USER'" class="label w3-grey">User</span>
                                {{ans.content}}
                                <hr>
                            </div>
                            <div>
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Type answer here</label>
                                    <textarea name="answer" ng-model="vm.answer.content" md-maxlength="1000" rows="3" md-select-on-focus></textarea>
                                </md-input-container>
                                <md-button class="md-primary md-raised" ng-click="vm.postAnswer(q.id)">Reply</md-button>
                            </div>
                        </div>
                        <md-divider ng-if="!$last"></md-divider>
                    </div>
                </md-content>
            </md-tab>

            <!-- <md-tab label="Feedback">
                <md-content class="md-padding">

                </md-content>
            </md-tab>
             -->
            <md-tab label="Terms">
                <md-content class="md-padding">
                    <h1 class="md-display-2">Terms</h1>
                    <p>{{vm.workspaceDetail.termsAndConditions}}</p>
                    <md-button class="md-primary md-raised" ui-sref="workspace-manager.edit">Edit Terms</md-button>
                </md-content>
            </md-tab>
        </md-tabs>
    </md-content>
</div>