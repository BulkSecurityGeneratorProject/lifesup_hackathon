<section ng-cloak>
    <div class="col-md-12">
        <h1 data-translate="loginsignup.title"></h1>
        <p data-translate="loginsignup.subtitle"></p>
    </div>
</section>

<div>
    <!-- Alert -->
    <div class="col-md-12">
        <div class="alert alert-success" ng-show="vm.success" data-translate="loginsignup.messages.success"></div>
        <div class="alert alert-danger" ng-show="vm.error" data-translate="loginsignup.messages.error.fail"></div>
        <div class="alert alert-danger" ng-show="vm.errorUserExists" data-translate="loginsignup.messages.error.userexists"></div>
        <div class="alert alert-danger" ng-show="vm.errorEmailExists" data-translate="loginsignup.messages.error.emailexists"></div>
        <div class="alert alert-danger" ng-show="vm.doNotMatch" data-translate="loginsignup.messages.error.dontmatch"></div>
        <div class="alert alert-danger" ng-show="vm.authenticationError" data-translate="loginsignup.messages.error.authentication"></div>
        <hr>
    </div>

    <!-- Login & Sign up -->
    <div ng-show="!vm.success" class="row">

        <!-- Signup form -->
        <div class="col-md-6 col-lg-6">
            <form id="signup-form" name="signupForm" ng-show="!vm.success" name="form" role="form" novalidate ng-submit="vm.register()">
                <div class="form-heading">
                    <h3 data-translate="loginsignup.form.headers.signup"></h3>
                </div>
                <!-- First name -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label data-translate="loginsignup.form.firstName"></label>
                    <input name="firstName" ng-model="vm.registerAccount.firstName" ng-maxlength="30" required>
                    <div ng-messages="signupForm.firstName.$error" role="alert">
                        <div ng-message="required" data-translate="loginsignup.messages.validate.firstName.required"></div>
                        <div ng-message="maxlength" data-translate="loginsignup.messages.validate.firstName.maxlength"></div>
                    </div>
                </md-input-container>

                <!-- Last name -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label data-translate="loginsignup.form.lastName"></label>
                    <input name="lastName" ng-model="vm.registerAccount.lastName" ng-maxlength="30" required>
                    <div ng-messages="signupForm.lastName.$error" role="alert">
                        <div ng-message="required" data-translate="loginsignup.messages.validate.lastName.required"></div>
                        <div ng-message="maxlength" data-translate="loginsignup.messages.validate.lastName.maxlength"></div>
                    </div>
                </md-input-container>

                <!-- Email -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label data-translate="loginsignup.form.email"></label>
                    <input name="email" type="email" ng-model="vm.registerAccount.email" ng-minlength="10" ng-maxlength="50" required>
                    <div ng-messages="signupForm.email.$error" role="alert">
                        <div ng-message="required" data-translate="loginsignup.messages.validate.email.required"></div>
                        <div ng-message="email" data-translate="loginsignup.messages.validate.email.pattern"></div>
                        <div ng-message="maxlength" data-translate="loginsignup.messages.validate.email.maxlength"></div>
                        <div ng-message="minlength" data-translate="loginsignup.messages.validate.email.minlength"></div>
                    </div>
                </md-input-container>

                <!-- Password -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label data-translate="loginsignup.form.password"></label>
                    <input name="password" type="password" ng-model="vm.registerAccount.password" ng-minlength=4 ng-maxlength=50 required>
                    <password-strength-bar password-to-check="vm.registerAccount.password"></password-strength-bar>
                    <div ng-messages="signupForm.password.$error" role="alert">
                        <div ng-message="required" data-translate="loginsignup.messages.validate.password.required"></div>
                        <div ng-message="minlength" data-translate="loginsignup.messages.validate.password.minlength"></div>
                        <div ng-message="maxlength" data-translate="loginsignup.messages.validate.password.maxlength"></div>
                    </div>
                </md-input-container>
                <!-- Confirm password -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label data-translate="loginsignup.form.confirmpassword"></label>
                    <input name="confirmPassword" type="password" ng-model="vm.confirmPassword" ng-minlength="4" ng-maxlength=50 required>
                    <div ng-messages="signupForm.confirmPassword.$error" role="alert">
                        <div ng-message="required" data-translate="loginsignup.messages.validate.confirmpassword.required"></div>
                        <div ng-message="minlength" data-translate="loginsignup.messages.validate.confirmpassword.minlength"></div>
                        <div ng-message="maxlength" data-translate="loginsignup.messages.validate.confirmpassword.maxlength"></div>
                    </div>

                </md-input-container>
                <div>
                    <p data-translate="loginsignup.form.signupterm"></p>
                </div>

                <md-button type="submit" class="md-raised md-primary w3-green btn-block" data-translate="loginsignup.form.buttons.signup"></md-button>

            </form>
        </div>

        <!-- Login Form -->
        <div class="col-md-6 col-lg-6">
            <form name="loginForm" role="form" id='login-form' ng-show="!vm.success" name="form" role="form" novalidate ng-submit="vm.login($event)"
                show-validation>
                <div class="form-heading">
                    <h3 data-translate="loginsignup.form.headers.login"></h3>
                </div>

                <!-- Login Email -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label data-translate="loginsignup.form.email"></label>
                    <input name="login" ng-model="vm.username" ng-maxlength=50 required>
                </md-input-container>

                <!-- Password -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label data-translate="loginsignup.form.password"></label>
                    <input name="password" type="password" ng-model="vm.password" ng-minlength=4 ng-maxlength=50 required>
                </md-input-container>

                <!-- Remember -->
                <md-checkbox name="rememberMe" ng-model="vm.rememberMe">
                    <span data-translate="loginsignup.form.rememberMe"></span>
                </md-checkbox>

                <div class="alert alert-warning forgot-password">
                    <a class="alert-link" href="" ng-click="vm.requestResetPassword()" data-translate="loginsignup.messages.validate.password.forgot"></a>
                </div>
                <md-button type="submit" class="md-raised md-primary btn-block" data-translate="loginsignup.form.buttons.login"></md-button>
            </form>
        </div>
    </div>
</div>