<section class="login-signup-wrapper" ng-cloak>
  <div class="login-header">
    <h1 data-translate="loginsignup.title">Login or sign up</h1>
    <p data-translate="loginsignup.subtitle">Welcome to Lifesup Hackathon!</p>
      <div class="alert alert-success" ng-show="vm.success" data-translate="loginsignup.messages.success">
          <strong>Registration saved!</strong> Please check your email for confirmation.
      </div>
      <div class="alert alert-danger" ng-show="vm.error" data-translate="loginsignup.messages.error.fail">
          <strong>Registration failed!</strong> Please try again later.
      </div>
      <div class="alert alert-danger" ng-show="vm.errorUserExists" data-translate="loginsignup.messages.error.userexists">
          <strong>Login name already registered!</strong> Please choose another one.
      </div>
      <div class="alert alert-danger" ng-show="vm.errorEmailExists" data-translate="loginsignup.messages.error.emailexists">
          <strong>E-mail is already in use!</strong> Please choose another one.
      </div>
      <div class="alert alert-danger" ng-show="vm.doNotMatch" data-translate="global.messages.error.dontmatch">
          The password and its confirmation do not match!
      </div>
    <hr>
  </div>

  <div ng-show="!vm.success" id="form-wrapper" class="row">

    <!-- Signup form -->
    <div class="signup-form-wrapper col-md-6 col-lg-6">
      <div class="row">
        <form name="signupForm" class="col s12" role="form" id='signup-form' ng-show="!vm.success" name="form" role="form" novalidate ng-submit="vm.register()">
          
            <div class="form-heading">
              <h3 data-translate="loginsignup.form.headers.signup">Start by creating your account</h3>
            </div>
            <!-- First name -->
            <md-input-container class="md-block" flex-gt-sm>
                <label data-translate="loginsignup.form.firstName">Name</label>
                <input name="firstName" id="firstName" ng-model="vm.registerAccount.firstName" ng-maxlength=50 required>
                <div ng-messages="signupForm.firstName.$error" role="alert">
                    <div ng-message="required" data-translate="loginsignup.messages.validate.firstName.required"></div>
                </div>
            </md-input-container>
            <!-- Last name -->
            <md-input-container class="md-block" flex-gt-sm>
                <label data-translate="loginsignup.form.lastName">Name</label>
                <input name="lastName" id="lastName" ng-model="vm.registerAccount.lastName" ng-maxlength=50 required>
                <div ng-messages="signupForm.lastName.$error" role="alert">
                    <div ng-message="required" data-translate="loginsignup.messages.validate.lastName.required"></div>
                </div>
            </md-input-container>
            <!-- Email -->
            <md-input-container class="md-block" flex-gt-sm>
                <label data-translate="loginsignup.form.email">Email</label>
                <input name="email" type="email" ng-model="vm.registerAccount.email" ng-maxlength=50 required>
                <div ng-messages="signupForm.email.$error" role="alert">
                    <div ng-message="required" data-translate="loginsignup.messages.validate.email.required"></div>
                    <div ng-show="signupForm.email.$error.email" data-translate="loginsignup.messages.validate.email.pattern"></div>
                </div>
            </md-input-container>
            <!-- Password -->
            <md-input-container class="md-block" flex-gt-sm>
                <label data-translate="loginsignup.form.password">Password*</label>
                <input name="password" type="password" ng-model="vm.registerAccount.password" ng-minlength=4 ng-maxlength=50 required>
                <password-strength-bar password-to-check="vm.registerAccount.password"></password-strength-bar>
                <div ng-messages="signupForm.password.$error" role="alert">
                    <div ng-message="required" data-translate="loginsignup.messages.validate.password.required"></div>
                    <div ng-message="minlength" ng-show="signupForm.password.$error.minlength" data-translate="global.messages.validate.newpassword.minlength">
                        Your password is required to be at least 4 characters.</div>
                    <div ng-message="maxlength" ng-show="signupForm.password.$error.maxlength" data-translate="global.messages.validate.newpassword.maxlength">
                        Your password cannot be longer than 50 characters.</div>
                </div>
            </md-input-container>
            <!-- Confirm password -->
            <md-input-container class="md-block" flex-gt-sm>
                <label data-translate="loginsignup.form.confirmpassword">Confirm password*</label>
                <input name="confirmPassword" type="password" ng-model="vm.confirmPassword" ng-minlength=4 ng-maxlength=50 required>
                <div ng-messages="signupForm.confirmPassword.$error" role="alert">
                    <div ng-message="required" data-translate="loginsignup.messages.validate.confirmpassword.required"></div>
                </div>
  
            </md-input-container>
            <div>
              <p data-translate="loginsignup.form.signupterm">By creating an account you agree to our <a href="#">Terms</a> and that you have read our <a href="#">Privace Policy</a></p>
            </div>
            <button type="submit" class="btn btn-success btn-block" data-translate="loginsignup.buttons.signup">Create account</button>
       
        </form>
      </div>
    </div>

    <!-- Login Form -->
    <div class="login-form-wrapper ml-auto col-md-6 col-lg-6">
        <div class="alert alert-danger" ng-show="vm.authenticationError">
            <strong>Failed to sign in!</strong> Please check your credentials and try again.
        </div>
      <form name="loginForm" role="form" id='login-form' ng-show="!vm.success" name="form" role="form" novalidate ng-submit="vm.login($event)" show-validation >
        <div class="form-heading">
          <h3 data-translate="loginsignup.form.headers.login">Login with existing account</h3>
        </div>
        <!-- Login Email -->
        <md-input-container class="md-block" flex-gt-sm>
            <label data-translate="loginsignup.form.email">Email</label>
            <input name="login" ng-model="vm.username" ng-maxlength=50 required>
        </md-input-container>
        <!-- Password -->
        <md-input-container class="md-block" flex-gt-sm>
            <label data-translate="loginsignup.form.password">Password*</label>
            <input name="password" type="password" ng-model="vm.password" ng-minlength=4 ng-maxlength=50 required>
        </md-input-container>
        <div class="alert alert-warning forgot-password">
              <a class="alert-link" href="" ng-click="vm.requestResetPassword()" data-translate="loginsignup.messages.validate.password.forgot">Forgot password?</a>
          </div>
        <button type="submit" class="btn btn-primary btn-block" data-translate="loginsignup.buttons.login">Login</button>
      </form>
    </div>
  </div>
</section>

